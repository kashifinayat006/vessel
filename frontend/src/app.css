@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme colors using CSS custom properties */
:root {
	/* Light mode (default) */
	--color-bg-primary: theme('colors.slate.50');
	--color-bg-secondary: theme('colors.slate.100');
	--color-bg-tertiary: theme('colors.slate.200');
	--color-bg-sidenav: theme('colors.slate.100');
	--color-bg-topnav: theme('colors.white');
	--color-bg-input: theme('colors.white');
	--color-bg-hover: theme('colors.slate.200');
	--color-bg-message-user: theme('colors.slate.200');
	--color-bg-message-assistant: transparent;
	--color-text-primary: theme('colors.slate.900');
	--color-text-secondary: theme('colors.slate.700');
	--color-text-muted: theme('colors.slate.600');
	--color-text-placeholder: theme('colors.slate.500');
	--color-border: theme('colors.slate.300');
	--color-border-subtle: theme('colors.slate.200');
}

.dark {
	/* Dark mode */
	--color-bg-primary: theme('colors.slate.900');
	--color-bg-secondary: theme('colors.slate.800');
	--color-bg-tertiary: theme('colors.slate.700');
	--color-bg-sidenav: theme('colors.slate.950');
	--color-bg-topnav: theme('colors.slate.900');
	--color-bg-input: theme('colors.slate.800');
	--color-bg-hover: theme('colors.slate.700');
	--color-bg-message-user: theme('colors.slate.700');
	--color-bg-message-assistant: transparent;
	--color-text-primary: theme('colors.slate.100');
	--color-text-secondary: theme('colors.slate.300');
	--color-text-muted: theme('colors.slate.400');
	--color-text-placeholder: theme('colors.slate.500');
	--color-border: theme('colors.slate.700');
	--color-border-subtle: theme('colors.slate.800');
}

/* Utility classes for theme colors */
.bg-theme-primary { background-color: var(--color-bg-primary); }
.bg-theme-secondary { background-color: var(--color-bg-secondary); }
.bg-theme-tertiary { background-color: var(--color-bg-tertiary); }
.bg-theme-sidenav { background-color: var(--color-bg-sidenav); }
.bg-theme-topnav { background-color: var(--color-bg-topnav); }
.bg-theme-input { background-color: var(--color-bg-input); }
.bg-theme-hover { background-color: var(--color-bg-hover); }
.bg-theme-message-user { background-color: var(--color-bg-message-user); }
.text-theme-primary { color: var(--color-text-primary); }
.text-theme-secondary { color: var(--color-text-secondary); }
.text-theme-muted { color: var(--color-text-muted); }
.text-theme-placeholder { color: var(--color-text-placeholder); }
.border-theme { border-color: var(--color-border); }
.border-theme-subtle { border-color: var(--color-border-subtle); }
.hover\:bg-theme-hover:hover { background-color: var(--color-bg-hover); }
.placeholder-theme-placeholder::placeholder { color: var(--color-text-placeholder); }

/* Base styles */
html,
body {
	@apply h-full;
	background-color: var(--color-bg-primary);
	color: var(--color-text-primary);
}

/* Text selection styling for dark theme */
::selection {
	@apply bg-violet-500/40 text-white;
}

::-moz-selection {
	@apply bg-violet-500/40 text-white;
}

/* Custom scrollbar */
::-webkit-scrollbar {
	@apply w-2;
}

::-webkit-scrollbar-track {
	@apply bg-surface-800;
}

::-webkit-scrollbar-thumb {
	@apply bg-surface-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
	@apply bg-surface-500;
}

/* Prose customization for chat messages */
.prose {
	@apply max-w-none;
}

.prose pre {
	@apply bg-surface-800 rounded-lg;
}

.prose code {
	@apply text-primary-400;
}

.prose code::before,
.prose code::after {
	content: none;
}

/* Animation utilities */
@keyframes bounce-dots {
	0%, 80%, 100% {
		transform: translateY(0);
	}
	40% {
		transform: translateY(-6px);
	}
}

.animate-bounce-dot {
	animation: bounce-dots 1.4s infinite ease-in-out both;
}

.animate-bounce-dot:nth-child(1) {
	animation-delay: -0.32s;
}

.animate-bounce-dot:nth-child(2) {
	animation-delay: -0.16s;
}
